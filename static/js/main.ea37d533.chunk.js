(this.webpackJsonpngage=this.webpackJsonpngage||[]).push([[0],{76:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(1),s=n.n(c),r=n(11),i=n.n(r),o=(n(76),n(27)),l=n(16),u=n(19),j=n.n(u),d=n(24),b=n(14),p=n(122),O=n(123),h=n(28);n(78),n(92);h.a.initializeApp({apiKey:"AIzaSyCjlrjFWYj5KLrQcg5M1u16CLBDhpINEOI",authDomain:"alinea-invest-login.firebaseapp.com",projectId:"alinea-invest-login",storageBucket:"alinea-invest-login.appspot.com",messagingSenderId:"954495321638",appId:"1:954495321638:web:9380977d95abd69d2108e7",measurementId:"G-FXMVQT1RSP"});var m=h.a.firestore(),f=h.a.auth(),g=(h.a.auth().currentUser,new h.a.auth.GoogleAuthProvider);g.setCustomParameters({prompt:"select_account"});var x=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a,c,s,r,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return n=m.doc("userData/".concat(t.uid)),e.next=4,n.get();case 4:if(e.sent.exists){e.next=13;break}a=t.displayName,c=t.uid,s=t.email,r=new Date,i=[],o=a;try{n.set({displayName:a,uid:c,email:s,createdAt:r,userPosts:i,author:o})}catch(l){console.log("".concat(l.message," is the error"))}e.next=14;break;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.doc("ngagePosts/".concat(t)),e.next=3,n.get();case 3:if(e.sent.exists){e.next=13;break}"","","","",a=[];try{n.set({title:"",image:"",description:"",url:"",comments:a})}catch(c){console.log("".concat(c.message," is the Error"))}e.next=14;break;case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=n(31),k=(n(85),Object(N.b)((function(e){return{allUserData:e.userData}}))((function(e){var t=e.allUserData,n=Object(c.useState)(""),s=Object(b.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(""),u=Object(b.a)(l,2),f=u[0],g=u[1],x=Object(c.useState)(""),N=Object(b.a)(x,2),k=N[0],y=N[1],I=Object(c.useState)({}),w=Object(b.a)(I,2),S=w[0],P=w[1],C=Object(c.useState)({}),D=Object(b.a)(C,2),E=(D[0],D[1]),F=Object(c.useState)(""),A=Object(b.a)(F,2),B=A[0],L=A[1],M=Object(c.useState)(""),U=Object(b.a)(M,2),T=U[0],G=U[1];Object(c.useEffect)((function(){y(t),i(window.location.hostname)}),[t]);var R=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(S),e.next=3,m.doc("/userData/".concat(k.uid)).update({userPosts:h.a.firestore.FieldValue.arrayUnion({postId:B})});case 3:return console.log("Done!"),e.next=6,m.doc("/ngagePosts/".concat(B)).update({postId:B,title:S.title,description:S.description,url:S.url,image:S.image});case 6:G("".concat(r,":3000/posts/").concat(B));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"mainBlock",children:[Object(a.jsx)("div",{className:"main-info",children:Object(a.jsx)("p",{children:"Insert any link below"})}),Object(a.jsxs)("div",{className:"textAndButtons",children:[Object(a.jsx)(p.a,{value:f,onChange:function(e){g(e.target.value)},className:"inputField",id:"outlined-basic",variant:"outlined",InputProps:{className:"textColor"}}),Object(a.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){var e=(new Date).getTime();console.log(43,e),L(String(e).substr(6)),f.length>0&&fetch("http://api.linkpreview.net/?key=".concat("aea11fb488e7be30acbfb6e5c48beade","&q=").concat(f)).then((function(e){return e.json()})).then((function(e){return P(e)})),v(String(e).substr(6)),g(""),G("")},children:"GO"})]}),Object.keys(S).length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"preview",children:Object(a.jsxs)("div",{className:"postMainContent",children:[Object(a.jsx)("img",{src:S.image,alt:S.title}),Object(a.jsxs)("div",{className:"postMainContent-text",children:[Object(a.jsx)("h1",{children:S.title}),S.description&&Object(a.jsxs)("p",{children:[S.description.slice(0,200),"..."]}),Object(a.jsx)("a",{href:S.url,children:S.url})]})]})}),Object(a.jsx)("div",{className:"preview-Pin",children:Object.keys(S).length>0&&k&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{variant:"contained",color:"default",className:"pin-button",onClick:R,children:"Create a POST for discussion"}),T&&Object(a.jsx)("div",{className:"pinRedirectLink",children:Object(a.jsx)(o.b,{to:{pathname:"/posts/"+B,state:{url:S.url,uid:k.uid}},className:"pinRedirectLink-link",target:"_blank",children:"Check out the post"})})]})})]})]})}))),y=n(51),I=(n(87),function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),s=(n[0],n[1]),r=Object(c.useState)({}),i=Object(b.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)(""),f=Object(b.a)(u,2),g=f[0],x=f[1],v=Object(c.useState)([]),N=Object(b.a)(v,2),k=N[0],I=N[1],w=Object(c.useState)([]),S=Object(b.a)(w,2),P=(S[0],S[1]);Object(c.useEffect)((function(){s(e.match.params.postId)}),[e]);var C=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.collection("ngagePosts").where("postId","==",e.match.params.postId).get();case 2:t.sent.forEach((function(e){return l(e.data())}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){C()}),[e]);var D=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I([].concat(Object(y.a)(k),[g])),x(""),t.next=4,m.doc("/ngagePosts/".concat(e.match.params.postId)).update({comments:h.a.firestore.FieldValue.arrayUnion(g)});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.collection("ngagePosts").where("postId","==",e.match.params.postId).get();case 2:t.sent.forEach((function(e){P(Object(y.a)(e.data().comments)),I(Object(y.a)(e.data().comments))}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){E()}),[k]),Object(a.jsxs)("div",{className:"postPage",children:[o&&Object(a.jsxs)("div",{className:"postMainContent",children:[Object(a.jsx)("img",{src:o.image,alt:o.title}),Object(a.jsxs)("div",{className:"postMainContent-text",children:[Object(a.jsx)("h1",{children:o.title}),o.description&&Object(a.jsxs)("p",{children:[o.description.slice(0,200),"..."]}),Object(a.jsx)("a",{href:o.url,children:o.url})]})]}),Object(a.jsxs)("div",{className:"comments",children:[Object(a.jsx)("p",{className:"commentsTitle",children:"Post your comment"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(p.a,{id:"standard-input",label:"Enter your comment",className:"commentsInput",onChange:function(e){var t=e.target.value;x(t)},value:g}),Object(a.jsx)(O.a,{variant:"contained",color:"primary",onClick:D,children:"ADD"})]}),k&&Object(a.jsxs)("div",{className:"commentsData",children:[Object(a.jsx)("p",{className:"commentsData-title",children:"All comments"}),k.map((function(e,t){return Object(a.jsx)("div",{className:"singleComment",children:Object(a.jsx)("p",{children:e})},t)}))]})]})]})}),w=n(63),S=n(62),P=(n(88),Object(N.b)((function(e){return console.log(63,e),e}),(function(e){return{signingIn:function(t){return e({type:"SIGNIN",payload:t})}}}))((function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(b.a)(i,2),u=l[0],j=l[1],d=Object(c.useState)(""),p=Object(b.a)(d,2),h=(p[0],p[1]),m=Object(c.useState)(!1),v=Object(b.a)(m,2),N=v[0],k=v[1];Object(c.useEffect)((function(){f.onAuthStateChanged((function(t){r(t),x(t),e.signingIn(t),t&&j(t.providerData[0].photoURL)})),h(window.location.hostname)}),[]);var y=function(){k(!N)};return Object(a.jsxs)("div",{className:"navBar",children:[Object(a.jsx)(o.b,{to:"/",className:"Logo",children:Object(a.jsx)("h1",{children:"Ngage"})}),Object(a.jsxs)("div",{className:"nav-menuItems",children:[Object(a.jsx)(o.b,{to:"/",className:"nav-home",children:"Home"}),Object(a.jsx)(o.b,{to:"/myposts",className:"nav-myPosts",children:Object(a.jsx)("p",{children:"My posts"})}),s?Object(a.jsxs)("div",{className:"nav-signIn",children:[Object(a.jsxs)("div",{className:"signIn-userDetails",children:[Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:s.displayName})}),Object(a.jsx)("img",{src:u,alt:s.displayName,className:"displayImage",onClick:y,title:"Sign out"})]}),Object(a.jsxs)("div",{className:N?"signOutBlock":"signOutBlock disappear",children:[Object(a.jsx)("p",{className:"closeIcon",title:"Close",onClick:y,children:Object(a.jsx)(S.a,{})}),Object(a.jsx)(O.a,{onClick:function(){f.signOut()},variant:"contained",className:"signOutButton",children:"Sign out"})]})]}):Object(a.jsxs)(O.a,{variant:"contained",color:"primary",className:"nav-googleButton",onClick:function(){f.signInWithPopup(g)},children:[Object(a.jsx)(w.a,{className:"googleIconSignin"}),"Sign in"]})]})]})}))),C=n(57),D=n(64),E=(n(89),Object(N.b)((function(e){return{allUserData:e.userData}}),null)((function(e){var t=e.allUserData,n=Object(c.useState)([]),s=Object(b.a)(n,2),r=(s[0],s[1]),i=Object(c.useState)([]),l=Object(b.a)(i,2),u=l[0],p=l[1],O=Object(c.useState)([]),h=Object(b.a)(O,2),f=h[0],g=h[1],x=[];Object(c.useEffect)((function(){console.log(18,t)}),[t]),Object(c.useEffect)((function(){t&&Object.keys(t).length>0&&r(t)}),[t]);var v=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("userData").where("uid","==",t.uid).get();case 2:e.sent.forEach((function(e){p(e.data().userPosts)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){t&&Object.keys(t).length>0&&v()}),[t]);var N=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("ngagePosts").where("postId","==",t).get();case 2:e.sent.forEach((function(e){x.push(e.data())})),g((function(e){return Object(C.a)(Object(C.a)({},e),{},{data:x})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){u.length>0&&(u.forEach((function(e){N(e.postId)})),console.log(47,x.length))}),[u]),Object(a.jsx)("div",{className:"myPostsBlock",children:t?Object(a.jsx)(a.Fragment,{children:f.data&&f.data.length>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{className:"postTitle",children:"Your posts"}),f.data&&Object(a.jsx)("div",{className:"alLPosts",children:f.data.map((function(e,t){return Object(a.jsx)("div",{className:"singlePost",children:Object(a.jsxs)(o.b,{to:"/posts/"+e.postId,target:"_blank",children:[e.title," ",Object(a.jsx)("span",{className:"linkIcon",children:Object(a.jsx)(D.a,{})})]})},t)}))})]}):Object(a.jsx)("p",{className:"signIn-Alert-Message",children:"Looks like there are no posts! Go hereAdd some post bruh!"})}):Object(a.jsx)("p",{className:"signIn-Alert-Message",children:"Please sign in to see our posts"})})})));n(90);var F=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(P,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",component:k,exact:!0}),Object(a.jsx)(l.a,{path:"/posts/:postId",component:I,exact:!0}),Object(a.jsx)(l.a,{path:"/myPosts",component:E,exact:!0})]})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},B={userData:{}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return"SIGNIN"===t.type?{userData:t.payload}:e},M=n(47),U=Object(M.b)(L);i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(N.a,{store:U,children:Object(a.jsx)(F,{})})}),document.getElementById("root")),A()}},[[91,1,2]]]);
//# sourceMappingURL=main.ea37d533.chunk.js.map